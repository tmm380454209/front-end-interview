<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Ajax</title>
</head>
<body>
<!-- 

	题目：
	1.手动编写一个ajax，不依赖第三方库
	2.跨域的几种实现方式

	知识点：
	XMLHttpRequest
	状态码说明
	  2xx -表示成功处理请求。如200
	  3xx -需要重定向
	  4xx -客户端请求错误 如404
	  5xx -服务器端错误
	跨域

	
-->

<!-- ajax原理
	
	
	var xhr = new XMLhttpRequest();
	IE低版本使用ActiveXObject 
	xhr.open("GET","/api",false);
	xhr.onreadystatechange = function() {
		if(xhr.readyState == 4){
			if(xhr.status == 200) {
				alert(xhr.responseText)
			}
		}
	}
	xhr.send(null);
	
	
	
	//跨域
	
	1.
	什么是跨域
	浏览器有同源策略，不允许ajax访问其他域接口
	跨域条件：协议，域名，端口，有一个不同就算跨域
	三个标签允许跨域加载资源：
	<img src=xxx> 
	   用于打点统计，统计网站可能是其他域   
	<link href=xxx > <script src=xxx>
	   可以使用CDN CDN的也是其他域
	<script>
	    可以用于JSONP
	 
	2.JSONP原理
	
	加载http://coding.com.classindex.html
	不一定服务器端真正有一个classidnex.html文件
	服务器可以根据请求，动态生成一个文件，返回
	<script src="http://coding.com/api.js"
	返回内容格式：callback({x:100,y:200}) (可动态生成)
	
	
	
	
	<script>
		window.callback = function (data){
			//这是我们跨域得到的信息
			console.log(data);
		}
	</script>
	<script src="http://coding.com/api.js"></script>
	
	
 -->
	<!-- 
	3.服务器端设置http header 
	response.setHeader("Access-Contrl-Allow-Origin","http://a.com,http://b.com"); 																允许的网站
	response.setHeader("Access-Contrl-Allow-Headers","X-Requested-With");

	response.setHeader("Access-Contrl-Allow-Methods","PUT,POST,GET,DELETE,OPTIONS");
	

	接收跨域的cookie
	response.setHeader("Access-Contrl-Allow-Credentials","true");


	-->
	

</body>
</html>